<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="google-site-verification" content="1swJOqEMy0oS2GgYJ3KFX7Ol0i6sETXV9KyJ-hdvnpY" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patil Hospital - Smart Digital Healthcare</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body>

    <!-- Main App Container -->
    <div id="app-container">
        <!-- Toast Container -->
        <div id="toast-container"></div>

        <!-- SCREEN 1: LOGIN -->
        <section id="login-screen" class="screen active-screen">
            <div class="login-wrapper">
                <div class="login-card">
                    <div class="hospital-logo">
                        <div class="logo-icon">+</div>
                        <div class="logo-text">
                            <h1>PATIL HOSPITAL</h1>
                            <p>Smart Digital Healthcare System</p>
                        </div>
                    </div>
                    <form id="login-form">
                        <div class="form-group">
                            <label for="patient-name">Patient Name</label>
                            <input type="text" id="patient-name" placeholder="Enter your full name" required>
                        </div>
                        <div class="form-group">
                            <label for="patient-age">Age</label>
                            <input type="number" id="patient-age" placeholder="Age" min="1" max="120" required>
                        </div>
                        <div class="form-group">
                            <label for="patient-mobile">Mobile Number</label>
                            <input type="tel" id="patient-mobile" placeholder="10-digit mobile number"
                                pattern="[0-9]{10}" required>
                        </div>
                        <div class="form-error" id="login-error"></div>

                        <button type="submit" class="btn-primary">Login to Portal</button>
                    </form>

                    <!-- DOCTOR LINK -->
                    <div style="margin-top: 15px; text-align: center;">
                        <a href="doctor.html"
                            style="color:var(--primary-blue); font-size:0.9rem; text-decoration:underline;">
                            Are you a Doctor? Login here
                        </a>
                    </div>
                    <div class="login-contact">
                        <p>Need Help? Call <strong class="contact-number">+91 98765 43210</strong></p>
                        <p>Emergency: <strong class="emergency-number">108</strong> | Email: <a
                                href="mailto:help@patilhospital.com">help@patilhospital.com</a></p>
                        <p style="margin-top:10px;"><a href="diagnostic.html" target="_blank"
                                style="color:#666; font-size:0.75rem; text-decoration:none;">‚ö†Ô∏è Connection Check</a></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SCREEN 2: DASHBOARD -->
        <section id="dashboard-screen" class="screen">
            <!-- Navigation Bar -->
            <nav class="sticky-nav">
                <div class="nav-brand">
                    <div class="logo-icon-sm">+</div>
                    <div class="brand-text">
                        <h2>PATIL HOSPITAL</h2>
                        <span>Smart Digital Healthcare System</span>
                    </div>
                </div>
                <div class="nav-links">
                    <button class="nav-btn active" data-target="home">Home</button>
                    <button class="nav-btn" data-target="departments">Departments</button>
                    <button class="nav-btn" data-target="appointments">Appointments</button>
                    <button class="nav-btn" data-target="queue">Queue Status</button>
                    <button class="nav-btn" data-target="contact">Contact</button>
                    <button class="nav-btn" id="logout-btn">Logout</button>
                </div>
                <div class="user-profile" style="display: flex; align-items: center; gap: 15px;">
                    <button id="theme-toggle" class="nav-btn" style="font-size: 1.2rem; padding: 5px 10px;"
                        title="Toggle Dark/Light Mode">üåô</button>
                    <div id="profile-trigger" style="cursor: pointer;">
                        <div class="avatar" id="user-initials">--</div>
                    </div>
                </div>
            </nav>

            <div id="dashboard-content" class="content-area">
                <!-- Dynamic Content Loaded Here -->
                <!-- Example: Hero, Cards, etc. -->
                <div class="hero-section">
                    <div class="hero-overlay">
                        <h1>Smart Hospital Appointment & Queue System</h1>
                        <p>Book appointments, check live queue, and doctor availability in real time</p>
                    </div>
                </div>

                <div class="container section-padding">
                    <!-- Content placeholders -->
                    <div id="main-view-container"></div>
                </div>

                <!-- Footer -->
                <footer class="app-footer">
                    <div class="footer-content">
                        <p>&copy; 2026 Patil Hospital. All rights reserved.</p>
                        <div class="footer-contacts">
                            <p>Helpline: <strong>+91 98765 43210</strong></p>
                            <span class="separator">|</span>
                            <p>Emergency: <strong class="text-red">108</strong></p>
                            <span class="separator">|</span>
                            <p>Email: <a href="mailto:help@patilhospital.com">help@patilhospital.com</a></p>
                        </div>
                    </div>
                </footer>
            </div>
        </section>

        <!-- SCREEN 3: BOOKING (Full Screen Overlay) -->
        <section id="booking-screen" class="screen">
            <div class="full-screen-header">
                <button class="back-btn" id="booking-back-btn">‚Üê Back to Dashboard</button>
                <h2>New Appointment Booking</h2>
            </div>
            <div class="booking-container">
                <div class="booking-card">
                    <h3>Patient Details</h3>
                    <div class="readonly-group">
                        <label>Name:</label> <span id="booking-name">--</span>
                    </div>
                    <div class="readonly-group">
                        <label>Age:</label> <span id="booking-age">--</span>
                    </div>
                    <div class="readonly-group">
                        <label>Mobile:</label> <span id="booking-mobile">--</span>
                    </div>

                    <hr>

                    <h3>Select Department</h3>
                    <select id="booking-dept" class="form-select">
                        <option value="">-- Choose Department --</option>
                        <option value="General Physician">General Physician</option>
                        <option value="Dental">Dental</option>
                        <option value="ENT">ENT</option>
                        <option value="Orthopedic">Orthopedic</option>
                        <option value="Cardiology">Cardiology</option>
                        <option value="Pediatrics">Pediatrics</option>
                    </select>

                    <div id="doctor-availability-msg" class="availability-box hidden"></div>

                    <button id="confirm-booking-btn" class="btn-primary mt-4" disabled>Confirm Appointment</button>
                </div>
            </div>
        </section>

        <!-- SCREEN 4: DOCTOR DASHBOARD -->
        <section id="doctor-screen" class="screen">
            <nav class="sticky-nav" style="background: #2c3e50; color:white;">
                <div class="nav-brand">
                    <div class="logo-icon-sm" style="color:white;">+</div>
                    <div class="brand-text">
                        <h2 style="color:white;">DOCTOR PORTAL</h2>
                        <span style="color:#bdc3c7;">Logged in as Dr. Sharma</span>
                    </div>
                </div>
                <div class="nav-links">
                    <button class="nav-btn" style="color:white;" id="doc-logout-btn">Logout</button>
                </div>
            </nav>

            <div class="content-area section-padding">
                <h2 style="margin-bottom:20px;">Patient Appointments</h2>
                <div class="booking-card" style="max-width:100%;">
                    <table style="width:100%; border-collapse:collapse;">
                        <thead>
                            <tr style="background:var(--bg-light); text-align:left;">
                                <th style="padding:15px;">ID</th>
                                <th style="padding:15px;">Patient</th>
                                <th style="padding:15px;">Date</th>
                                <th style="padding:15px;">Dept</th>
                                <th style="padding:15px;">Status</th>
                                <th style="padding:15px;">Action</th>
                            </tr>
                        </thead>
                        <tbody id="doc-apt-list">
                            <!-- Rows loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Report Modal -->
            <div id="report-modal" class="overlay hidden">
                <div class="booking-card" style="margin: auto; max-width: 600px; position:relative;">
                    <button id="close-report-btn" class="close-btn"
                        style="position:absolute; right:20px; top:20px;">&times;</button>
                    <h3>Write Medical Report</h3>
                    <p id="report-patient-name" style="color:var(--text-muted); margin-bottom:20px;">Patient: --</p>

                    <form id="report-form">
                        <input type="hidden" id="report-apt-id">

                        <div class="form-group">
                            <label>Diagnosis</label>
                            <input type="text" id="report-diagnosis" required placeholder="e.g. Viral Fever">
                        </div>

                        <div class="form-group">
                            <label>Prescribed Medicines</label>
                            <textarea id="report-meds" rows="3" required
                                placeholder="e.g. Paracetamol 500mg, Rest"></textarea>
                        </div>

                        <div class="form-group">
                            <label>Doctor's Notes</label>
                            <textarea id="report-notes" rows="2" placeholder="Dietary restrictions, etc."></textarea>
                        </div>

                        <button type="submit" class="btn-primary">Save & Generate Report</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- PROFILE SIDE PANEL -->
        <div id="profile-overlay" class="overlay hidden">
            <div class="side-panel">
                <div class="panel-header">
                    <h3>Patient Profile</h3>
                    <button id="close-profile-btn" class="close-btn">&times;</button>
                </div>
                <div class="panel-body">
                    <div class="profile-summary">
                        <div class="large-avatar" id="panel-initials">--</div>
                        <h2 id="panel-name">Guest User</h2>
                        <p id="panel-details">Age: -- | Mobile: --</p>
                    </div>
                    <div class="appointment-history">
                        <h4>Current Status</h4>
                        <div id="current-status-card" class="status-card empty">
                            No active appointments
                        </div>

                        <h4>History</h4>
                        <ul id="history-list">
                            <!-- Items go here -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- QR ENTRY PASS MODAL -->
        <div id="qr-modal" class="overlay hidden">
            <div class="booking-card" style="margin: auto; max-width: 400px; position:relative; text-align:center;">
                <button onclick="document.getElementById('qr-modal').classList.add('hidden')" class="close-btn"
                    style="position:absolute; right:20px; top:20px;">&times;</button>
                <h3>Your Digital Entry Pass</h3>
                <p style="color:#666; font-size:0.9rem; margin-bottom:20px;">Show this to the doctor to instantly load
                    your history.</p>

                <div id="qrcode" style="display:flex; justify-content:center; margin:20px auto;"></div>

                <div style="margin-top:20px; font-weight:600; color:var(--primary-blue);" id="qr-name">--</div>
                <div style="color:#555;" id="qr-mobile">--</div>

                <button class="nav-btn" style="border:1px solid #ccc; margin-top:20px;"
                    onclick="document.getElementById('qr-modal').classList.add('hidden')">Close</button>
            </div>
        </div>

    </div>

    <script src="script.js"></script>
</body>

</html>